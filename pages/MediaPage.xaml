<Page x:Class="GamelistManager.pages.MediaPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="{DynamicResource SecondaryBackgroundBrush}">

    <Grid>
        <!-- Layer 0: Border + content containers -->
        <Border Background="{DynamicResource SecondaryBackgroundBrush}"
                BorderBrush="{DynamicResource PrimaryBorderBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="5">
            <Grid Margin="0,5,0,0">
                <!-- SCALED MODE: Viewbox only -->
                <Viewbox x:Name="ScaledModeViewbox"
                         Stretch="Uniform"
                         Visibility="Collapsed">
                    <Grid x:Name="ScaledContentHost"/>
                </Viewbox>

                <!-- SCROLL MODE: ScrollViewer -> Viewbox -> Content -->
                <ScrollViewer x:Name="ScrollModeScrollViewer"
                              HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Disabled"
                              Visibility="Visible">
                    <Viewbox x:Name="ScrollModeViewbox"
                             Stretch="Uniform">
                        <Grid x:Name="ScrollContentHost"/>
                    </Viewbox>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- Layer 1: toggle button overlay -->
        <Button x:Name="Button_ToggleMode"
                Style="{DynamicResource GreyRoundedButton}"
                Content="Fit To View: On"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Padding="10,4"
                Click="Button_ToggleMode_Click"
                Panel.ZIndex="100"/>
    </Grid>
</Page>
